/*! angular-firebase-form 30-05-2016 */
function FirebaseForm(a){"use strict";this.firebaseUrl=a}var firebaseFormModule=angular.module("firebaseForm",["ngAnimate","ngMaterial"]).provider("firebaseForm",function(){"use strict";var a=null;this.setFirebaseUrl=function(b){a=b},this.$get=[function(){return new FirebaseForm(a)}]}).directive("contactForm",function(){"use strict";return{scope:{title:"@"},controller:"FormController",template:'<form name="contactForm" ng-submit="submit()" layout="column" layout-padding layout-margin class="mt20"><md-input-container flex><label>Name</label><input type="text" ng-model="messageData.name"></md-input-container><md-input-container flex><label>Email (required)</label><input type="email" ng-model="messageData.email" required></md-input-container><md-input-container flex><label>Enter a message (required)</label><textarea ng-model="messageData.message" columns="1" md-maxlength="500" required></textarea></md-input-container><a id="contact-submit" flex layout layout-align="end center" class="mb10"><input class="md-button md-raised md-accent" type="submit" id="submit" value="Submit" ng-disabled="contactForm.$invalid"></a></form>'}}).controller("FormController",["$scope","$mdToast","$location","MessageFactory",function(a,b,c,d){"use strict";function e(){return Object.keys(h).filter(function(a){return h[a]}).join(" ")}function f(){a.messageData={},a.contactForm.$setUntouched(),a.contactForm.$setPristine(),b.show(b.simple().content("Your message was sent!").position(e()).hideDelay(4e3))}function g(a){console.error(a),b.show(b.simple().content("Sorry, we couldn't send your message.").position(e()).hideDelay(4e3))}var h={bottom:!0,top:!1,left:!1,right:!0};a.submit=function(){var b=angular.copy(a.messageData);b.location=c.absUrl();var e=new d(b,a.contactForm.$valid);e.submit().then(function(){f()})["catch"](function(a){g()})}}]).factory("MessageFactory",["$q","$http","firebaseForm",function(a,b,c){"use strict";var d=function(a,b){return this.data=a,this.data.submitAt=new Date,this.data.submitAtString=Date(this.data.submitAt),this.valid=b,this};return d.prototype.submit=function(){var d=a.defer();if(!c.firebaseUrl)throw new Error("Missing firebaseUrl");var e=this;return this.valid?b({method:"POST",url:c.firebaseUrl,data:JSON.stringify(e.data),context:document.body}).then(function(a){d.resolve(e.data,a)},function(a){d.reject(a)}):d.reject("Invalid entry"),d.promise},function(a,b){return new d(a,b)}}]);