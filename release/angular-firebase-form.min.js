/*! angular-firebase-form 22-02-2016 */
function FirebaseForm(a){this.firebaseUrl=a}var firebaseFormModule=angular.module("firebaseForm",["ngAnimate","ngMaterial"]);firebaseFormModule.provider("firebaseForm",[function(){var a=null;this.setFirebaseUrl=function(b){a=b},this.$get=[function(){return new FirebaseForm(a)}]}]),firebaseFormModule.factory("MessageFactory",["$q","firebaseForm",function(a,b){"use strict";var c=new Firebase(b.firebaseUrl),d=function(){return c.push()},e=function(a,b){return this.ref=new d,this.data=a,this.data.submitAt=Firebase.ServerValue.TIMESTAMP,this.data.submitAtString=Date(this.data.submitAt),this.valid=b,this};return e.prototype.submit=function(){var b=a.defer(),c=this;return this.valid?this.ref.set(this.data,function(a){a?b.reject(a):b.resolve(c.data)}):b.reject("Invalid entry"),b.promise},function(a,b){return new e(a,b)}}]),firebaseFormModule.controller("FormController",["$scope","$mdToast","$location","MessageFactory",function(a,b,c,d){function e(){return Object.keys(f).filter(function(a){return f[a]}).join(" ")}var f={bottom:!0,top:!1,left:!1,right:!0},g={success:function(){a.messageData={},a.contactForm.$setUntouched(),a.contactForm.$setPristine(),b.show(b.simple().content("Sent!").position(e()).hideDelay(5e3))},error:function(a){b.show(b.simple().content("Error!").position(e()).hideDelay(5e3))}};a.submit=function(){var b=angular.copy(a.messageData);b.location=c.absUrl();var e=new d(b,a.contactForm.$valid);e.submit().then(function(){g.success()})["catch"](function(a){console.error(a),g.error()})}}]),firebaseFormModule.directive("contactForm",function(){return{scope:{title:"@"},controller:"FormController",template:'<form name=contactForm ng-submit=submit() layout=column class=mt20 style=margin:auto;width:100%;max-width:640px;> <h4>What\'s your info?</h4> <div layout=row layout-xs=column flex=auto> <md-input-container flex=auto> <label>Name</label> <input type=text ng-model=messageData.name> </md-input-container> <md-input-container flex=auto> <label>Email (required)</label> <input type=email ng-model=messageData.email required> </md-input-container> </div> <h4>What would you like to discuss?</h4> <md-input-container flex> <label>Enter a message (required)</label> <textarea ng-model=messageData.message columns=1 md-maxlength=500 required></textarea> </md-input-container> <div flex layout layout-align="center center" class=mb10> <input class="md-button md-raised md-accent" type=submit id=submit value=Submit> </div> </form>'}});